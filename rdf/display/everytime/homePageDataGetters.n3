# $This file is distributed under the terms of the license in /doc/license.txt$ 

@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix display: <http://vitro.mannlib.cornell.edu/ontologies/display/1.1#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix core: <http://vivoweb.org/ontology/core#> .
@prefix vivoweb: <http://vivoweb.org/ontology#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
 
    # by the numbers datagetters 

    <freemarker:lib-home-page.ftl> display:hasDataGetter display:facultyCountDataGetter ,
                                                         display:professionalCountDataGetter ,
                                                         display:grantCountDataGetter ,
                                                         display:articleCountDataGetter ,
                                                         display:journalCountDataGetter .
                                                         
    display:facultyCountDataGetter
        a <java:edu.cornell.mannlib.vitro.webapp.utils.dataGetter.SparqlQueryDataGetter> ;
        display:saveToVar "facultyCount" ;
        display:query """
        PREFIX rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
		PREFIX bibo:     <http://purl.org/ontology/bibo/>
		PREFIX vivo:     <http://vivoweb.org/ontology/core#>
		SELECT  (count(distinct ?faculty) as ?count) 
		WHERE {
		      ?faculty rdf:type vivo:FacultyMember .
		}
        """ .

    display:professionalCountDataGetter
        a <java:edu.cornell.mannlib.vitro.webapp.utils.dataGetter.SparqlQueryDataGetter> ;
        display:saveToVar "professionalCount" ;
        display:query """
        PREFIX rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
		PREFIX bibo:     <http://purl.org/ontology/bibo/>
		PREFIX vivo:     <http://vivoweb.org/ontology/core#>
		SELECT (count(distinct ?professional) as ?count)
		WHERE {
		     ?professional rdf:type vivo:NonFacultyAcademic .
		}
        """ .

    display:grantCountDataGetter
        a <java:edu.cornell.mannlib.vitro.webapp.utils.dataGetter.SparqlQueryDataGetter> ;
        display:saveToVar "grantCount" ;
        display:query """
        PREFIX rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
		PREFIX bibo:     <http://purl.org/ontology/bibo/>
		PREFIX vivo:     <http://vivoweb.org/ontology/core#>
		SELECT (count(distinct ?grant) as ?count)
		WHERE {
		     ?grant rdf:type vivo:Grant.
		}
        """ .

    display:articleCountDataGetter
        a <java:edu.cornell.mannlib.vitro.webapp.utils.dataGetter.SparqlQueryDataGetter> ;
        display:saveToVar "articleCount" ;
        display:query """
        PREFIX rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
		PREFIX bibo:     <http://purl.org/ontology/bibo/>
		PREFIX vivo:     <http://vivoweb.org/ontology/core#>
		SELECT (count(distinct ?article) as ?count)
		WHERE {
		     ?article rdf:type bibo:AcademicArticle .
		}
        """ .

    display:journalCountDataGetter
        a <java:edu.cornell.mannlib.vitro.webapp.utils.dataGetter.SparqlQueryDataGetter> ;
        display:saveToVar "journalCount" ;
        display:query """
        PREFIX rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
		PREFIX bibo:     <http://purl.org/ontology/bibo/>
		PREFIX vivo:     <http://vivoweb.org/ontology/core#>
		SELECT (count(distinct ?journal) as ?count)
		WHERE {
		     ?journal rdf:type bibo:Journal .
		}
        """ .
